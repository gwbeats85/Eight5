<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Eight5 Music</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Container around the whole player */
    .player-container {
      background-color: #000;
      color: #fff;
      max-width: 480px;
      margin: 40px auto;
      border-radius: 10px;
      overflow: hidden;
      font-family: sans-serif;
    }
    /* Now playing section */
    .now-playing {
      display: flex;
      align-items: center;
      padding: 16px;
    }
    .now-playing img {
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: 6px;
      margin-right: 14px;
    }
    .now-playing .info {
      flex-grow: 1;
    }
    .now-playing .info .title {
      font-weight: bold;
      margin: 0;
    }
    .now-playing .info .artist {
      font-size: 0.9rem;
      color: #bbb;
      margin: 4px 0 0;
    }
    /* Controls row */
    .controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 16px;
    }
    .controls button {
      background: none;
      border: none;
      color: #fff;
      font-size: 1.4rem;
      cursor: pointer;
      padding: 4px;
    }
    /* Playlist list */
    .playlist {
      list-style: none;
      margin: 0;
      padding: 0;
    }
    .playlist li {
      display: flex;
      align-items: center;
      padding: 10px 16px;
      border-top: 1px solid #222;
      cursor: pointer;
      transition: background-color 0.2s;
    }
    .playlist li.active {
      background-color: #111;
    }
    .playlist li:hover {
      background-color: #1a1a1a;
    }
    .playlist img {
      width: 50px;
      height: 50px;
      object-fit: cover;
      border-radius: 4px;
      margin-right: 12px;
    }
    .playlist .track-info {
      flex-grow: 1;
    }
    .playlist .track-info .track-title {
      font-size: 0.95rem;
      margin: 0;
    }
    .playlist .track-info .track-artist {
      font-size: 0.8rem;
      color: #888;
      margin: 2px 0 0;
    }
    .playlist .duration {
      font-size: 0.8rem;
      color: #888;
    }
    /* Hide default audio controls */
    audio {
      display: none;
    }
  </style>
</head>
<body>
  <!-- Social icons remain as before -->
  <div class="social-icons">
    <a href="#" id="fb-link"><img src="fb.png" alt="Facebook" style="filter:none;width:30px;height:30px;"></a>
    <a href="#" id="ig-link"><img src="ig.png" alt="Instagram" style="filter:none;width:30px;height:30px;"></a>
    <a href="#" id="yt-link"><img src="yt.png" alt="YouTube" style="filter:none;width:30px;height:30px;"></a>
  </div>

  <div class="player-container">
    <!-- Now playing section -->
    <div class="now-playing">
      <img id="now-cover" src="placeholder1.jpg" alt="Now playing cover">
      <div class="info">
      <p class="title" id="now-title">Track 1</p>
      <p class="artist" id="now-artist">Artist 1</p>
      </div>
    </div>

    <!-- Controls -->
    <div class="controls">
      <button id="prev-btn">&#x23EE;</button>
      <button id="play-btn">&#x25B6;</button>
      <button id="next-btn">&#x23ED;</button>
    </div>

    <!-- Playlist -->
    <ul class="playlist" id="playlist">
      <li data-src="Goodwill-NewLife.mp3" data-cover="placeholder1.jpg" data-title="Give it Up" data-artist="Roy Young">
        <img src="placeholder1.jpg" alt="Cover">
        <div class="track-info">
          <p class="track-title">New Life</p>
          <p class="track-artist">Eight5</p>
        </div>
        <span class="duration"></span>
      </li>
      <li data-src="Goodwill-HeyHey.mp3" data-cover="placeholder2.jpg" data-title="Clockwork" data-artist="Hans Johnson">
        <img src="placeholder2.jpg" alt="Cover">
        <div class="track-info">
          <p class="track-title">Hey Hey</p>
          <p class="track-artist">Eight5</p>
        </div>
        <span class="duration"></span>
      </li>
      <li data-src="track3.mp3" data-cover="placeholder3.jpg" data-title="Autumn Waves" data-artist="Rex Banner">
        <img src="placeholder3.jpg" alt="Cover">
        <div class="track-info">
          <p class="track-title">Beat003</p>
          <p class="track-artist">Eight5</p>
        </div>
        <span class="duration"></span>
      </li>
      <!-- add more <li> items as needed -->
    </ul>

    <!-- Hidden audio element -->
    <audio id="audioPlayer"></audio>
  </div>

  <script src="script.js"></script>
  <script>
    // Simple custom player logic
    const audio = document.getElementById('audioPlayer');
    const playBtn = document.getElementById('play-btn');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const playlist = document.getElementById('playlist');
    const nowCover = document.getElementById('now-cover');
    const nowTitle = document.getElementById('now-title');
    const nowArtist = document.getElementById('now-artist');
    let currentIndex = 0;

    // Load durations for all tracks
    function loadDurations() {
      const items = playlist.querySelectorAll('li');
      items.forEach((item) => {
        const src = item.dataset.src;
        const tempAudio = new Audio(src);
        tempAudio.addEventListener('loadedmetadata', () => {
          const mins = Math.floor(tempAudio.duration / 60);
          const secs = Math.floor(tempAudio.duration % 60).toString().padStart(2, '0');
          item.querySelector('.duration').textContent = \`\${mins}:\${secs}\`;
        });
      });
    }

    // Set current track information
    function setCurrentTrack(index) {
      const items = playlist.querySelectorAll('li');
      items.forEach((item, i) => {
        item.classList.toggle('active', i === index);
      });
      const track = items[index];
      audio.src = track.dataset.src;
      nowCover.src = track.dataset.cover;
      nowTitle.textContent = track.dataset.title;
      nowArtist.textContent = track.dataset.artist;
    }

    // Play/pause toggle
    playBtn.addEventListener('click', () => {
      if (audio.paused) {
        audio.play();
        playBtn.textContent = '⏸';
      } else {
        audio.pause();
        playBtn.textContent = '▶️';
      }
    });

    // Next/previous
    nextBtn.addEventListener('click', () => {
      currentIndex = (currentIndex + 1) % playlist.children.length;
      setCurrentTrack(currentIndex);
      audio.play();
      playBtn.textContent = '⏸';
    });
    prevBtn.addEventListener('click', () => {
      currentIndex = (currentIndex - 1 + playlist.children.length) % playlist.children.length;
      setCurrentTrack(currentIndex);
      audio.play();
      playBtn.textContent = '⏸';
    });

    // Click on a playlist item
    playlist.addEventListener('click', (e) => {
      const li = e.target.closest('li');
      if (!li) return;
      currentIndex = Array.from(playlist.children).indexOf(li);
      setCurrentTrack(currentIndex);
      audio.play();
      playBtn.textContent = '⏸';
    });

    // When track ends, go to next
    audio.addEventListener('ended', () => {
      nextBtn.click();
    });

    // Initialize
    loadDurations();
    setCurrentTrack(currentIndex);
  </script>
</body>
</html>
